<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MechService - Professional Engineering</title>
    <!-- Icons -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <!-- Google Fonts -->
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&family=Oswald:wght@400;500;700&display=swap"
        rel="stylesheet">

    <style>
        /* * ==========================================
         * CSS - STYLE.CSS
         * ==========================================
         */

        :root {
            /* Theme Variables - overwritten by JSON config via JS, but defaults set here */
            --primary-color: #0056b3;
            --secondary-color: #ff6b00;
            --text-dark: #1a1a1a;
            --text-light: #f4f4f4;
            --bg-light: #ffffff;
            --bg-off-white: #f8f9fa;
            --bg-dark: #121212;
            --bg-card: #ffffff;
            --border-color: #e5e5e5;
            --nav-height: 70px;
            --transition: all 0.3s ease;
        }

        /* Dark Mode Overrides */
        body.dark-mode {
            --text-dark: #f4f4f4;
            --text-light: #1a1a1a;
            --bg-light: #121212;
            --bg-off-white: #1e1e1e;
            --bg-card: #2c2c2c;
            --border-color: #444;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            color: var(--text-dark);
            background-color: var(--bg-light);
            line-height: 1.6;
            transition: background-color 0.3s, color 0.3s;
        }

        h1,
        h2,
        h3,
        h4,
        h5 {
            font-family: 'Oswald', sans-serif;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        a {
            text-decoration: none;
            color: inherit;
            transition: var(--transition);
        }

        ul {
            list-style: none;
        }

        img {
            max-width: 100%;
            display: block;
        }

        section {
            padding: 80px 20px;
        }

        /* --- Header & Nav --- */
        header {
            position: sticky;
            top: 0;
            background-color: var(--bg-light);
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            z-index: 1000;
            height: var(--nav-height);
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 5%;
        }

        .logo {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--primary-color);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        nav ul {
            display: flex;
            gap: 30px;
        }

        nav a {
            font-weight: 600;
            font-size: 0.9rem;
            text-transform: uppercase;
        }

        nav a:hover {
            color: var(--primary-color);
        }

        .theme-toggle {
            cursor: pointer;
            font-size: 1.2rem;
            margin-left: 20px;
        }

        .mobile-menu-btn {
            display: none;
            font-size: 1.5rem;
            cursor: pointer;
        }

        /* --- Hero Section --- */
        #hero {
            height: 90vh;
            background-size: cover;
            background-position: center;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            position: relative;
            color: white;
        }

        #hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.6);
        }

        .hero-content {
            position: relative;
            z-index: 2;
            max-width: 800px;
            padding: 20px;
        }

        .hero-content h1 {
            font-size: 3.5rem;
            margin-bottom: 20px;
        }

        .hero-content p {
            font-size: 1.2rem;
            margin-bottom: 30px;
            opacity: 0.9;
        }

        .btn {
            display: inline-block;
            padding: 12px 30px;
            background-color: var(--primary-color);
            color: white;
            font-weight: 600;
            text-transform: uppercase;
            border-radius: 4px;
            border: none;
            cursor: pointer;
            transition: var(--transition);
        }

        .btn:hover {
            background-color: var(--secondary-color);
            transform: translateY(-2px);
        }

        /* --- About Section --- */
        #about {
            background-color: var(--bg-light);
        }

        .section-header {
            text-align: center;
            margin-bottom: 60px;
        }

        .section-header h2 {
            font-size: 2.5rem;
            color: var(--primary-color);
            margin-bottom: 15px;
        }

        .section-header .divider {
            width: 60px;
            height: 4px;
            background-color: var(--secondary-color);
            margin: 0 auto;
        }

        .about-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 50px;
            align-items: center;
            max-width: 1200px;
            margin: 0 auto;
        }

        .mission-box {
            margin-top: 30px;
            padding: 20px;
            background-color: var(--bg-off-white);
            border-left: 4px solid var(--secondary-color);
        }

        /* --- Services Section --- */
        #services {
            background-color: var(--bg-off-white);
        }

        .services-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
            max-width: 1200px;
            margin: 0 auto;
        }

        .service-card {
            background-color: var(--bg-card);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            overflow: hidden;
            transition: var(--transition);
            display: flex;
            flex-direction: column;
        }

        .service-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        }

        .service-media {
            height: 200px;
            overflow: hidden;
            position: relative;
        }

        .service-media img,
        .service-media video {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .service-content {
            padding: 25px;
            flex-grow: 1;
            display: flex;
            flex-direction: column;
        }

        .service-content h3 {
            margin-bottom: 10px;
            font-size: 1.4rem;
        }

        .service-content p {
            font-size: 0.95rem;
            color: #666;
            /* Adjust for dark mode via JS if needed, or use opacity */
            margin-bottom: 20px;
            flex-grow: 1;
        }

        body.dark-mode .service-content p {
            color: #aaa;
        }

        .service-actions {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: auto;
        }

        .link-btn {
            color: var(--primary-color);
            font-weight: 600;
            cursor: pointer;
            font-size: 0.9rem;
        }

        /* --- Projects / Showcase --- */
        #projects {
            background-color: var(--bg-light);
        }

        .projects-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 20px;
            max-width: 1200px;
            margin: 0 auto;
        }

        .project-item {
            position: relative;
            height: 300px;
            border-radius: 8px;
            overflow: hidden;
            cursor: pointer;
        }

        .project-item img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.5s ease;
        }

        .project-overlay {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            background: linear-gradient(transparent, rgba(0, 0, 0, 0.9));
            padding: 20px;
            color: white;
            transform: translateY(100px);
            opacity: 0;
            transition: var(--transition);
        }

        .project-item:hover img {
            transform: scale(1.1);
        }

        .project-item:hover .project-overlay {
            transform: translateY(0);
            opacity: 1;
        }

        /* --- Contact Section --- */
        #contact {
            background-color: var(--primary-color);
            color: white;
        }

        #contact .section-header h2 {
            color: white;
        }

        #contact .section-header .divider {
            background-color: white;
        }

        .contact-container {
            display: flex;
            flex-wrap: wrap;
            gap: 40px;
            max-width: 1200px;
            margin: 0 auto;
        }

        .contact-info {
            flex: 1;
            min-width: 300px;
        }

        .contact-item {
            display: flex;
            align-items: center;
            margin-bottom: 25px;
            font-size: 1.1rem;
        }

        .contact-item i {
            width: 40px;
            height: 40px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 15px;
        }

        .contact-form-wrapper {
            flex: 1.5;
            background: white;
            padding: 40px;
            border-radius: 8px;
            min-width: 300px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            color: #333;
            font-weight: 600;
        }

        .form-control {
            width: 100%;
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-family: inherit;
        }

        .submit-btn {
            width: 100%;
            background-color: var(--secondary-color);
            color: white;
            border: none;
            padding: 15px;
            font-size: 1rem;
            font-weight: bold;
            cursor: pointer;
            transition: var(--transition);
        }

        .submit-btn:hover {
            background-color: #e05e00;
        }

        /* Footer */
        footer {
            background-color: var(--bg-dark);
            color: #888;
            padding: 40px 20px;
            text-align: center;
        }

        /* Modal */
        .modal {
            display: none;
            position: fixed;
            z-index: 2000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.8);
            align-items: center;
            justify-content: center;
            padding: 20px;
        }

        .modal-content {
            background-color: var(--bg-card);
            padding: 40px;
            border-radius: 8px;
            max-width: 600px;
            width: 100%;
            position: relative;
            max-height: 90vh;
            overflow-y: auto;
            color: var(--text-dark);
        }

        .close-modal {
            position: absolute;
            top: 20px;
            right: 20px;
            font-size: 24px;
            cursor: pointer;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .hero-content h1 {
                font-size: 2.5rem;
            }

            .about-grid {
                grid-template-columns: 1fr;
            }

            .mobile-menu-btn {
                display: block;
            }

            nav ul {
                display: none;
                flex-direction: column;
                position: absolute;
                top: var(--nav-height);
                left: 0;
                width: 100%;
                background-color: var(--bg-light);
                padding: 20px;
                box-shadow: 0 5px 10px rgba(0, 0, 0, 0.1);
            }

            nav ul.active {
                display: flex;
            }

            .contact-form-wrapper {
                padding: 25px;
            }
        }
    </style>
</head>

<body>

    <!-- Header -->
    <header>
        <div class="logo" id="header-logo">
            <!-- Injected via JS -->
        </div>
        <div class="mobile-menu-btn" onclick="toggleMenu()">
            <i class="fas fa-bars"></i>
        </div>
        <nav>
            <ul id="nav-links">
                <li><a href="#about" onclick="toggleMenu()">About</a></li>
                <li><a href="#services" onclick="toggleMenu()">Services</a></li>
                <li id="nav-projects"><a href="#projects" onclick="toggleMenu()">Projects</a></li>
                <li><a href="#contact" onclick="toggleMenu()">Contact</a></li>
                <li><i class="fas fa-moon theme-toggle" onclick="toggleTheme()" title="Toggle Dark Mode"></i></li>
            </ul>
        </nav>
    </header>

    <!-- Hero -->
    <section id="hero">
        <div class="hero-content">
            <h1 id="hero-title">Engineering Excellence</h1>
            <p id="hero-tagline">Providing top-tier mechanical solutions.</p>
            <a href="#services" class="btn">Explore Services</a>
        </div>
    </section>

    <!-- About -->
    <section id="about">
        <div class="section-header">
            <h2>About Us</h2>
            <div class="divider"></div>
        </div>
        <div class="about-grid">
            <div class="about-text">
                <p id="about-desc">Loading...</p>
                <div id="mission-vision" class="mission-box" style="display:none;">
                    <h4>Our Mission</h4>
                    <p id="mission-text"></p>
                </div>
            </div>
            <div class="about-image">
                <img id="about-img" src="" alt="About Us" style="border-radius: 8px;">
            </div>
        </div>
    </section>

    <!-- Services -->
    <section id="services">
        <div class="section-header">
            <h2>Our Services</h2>
            <div class="divider"></div>
        </div>
        <div class="services-grid" id="services-container">
            <!-- Injected via JS -->
        </div>
    </section>

    <!-- Projects / Showcase -->
    <section id="projects">
        <div class="section-header">
            <h2>Featured Projects</h2>
            <div class="divider"></div>
        </div>
        <div class="projects-grid" id="projects-container">
            <!-- Injected via JS -->
        </div>
    </section>

    <!-- Contact -->
    <section id="contact">
        <div class="section-header">
            <h2>Contact Us</h2>
            <div class="divider"></div>
        </div>
        <div class="contact-container">
            <div class="contact-info" id="contact-details">
                <!-- Injected via JS -->
            </div>
            <div class="contact-form-wrapper">
                <form id="inquiry-form" onsubmit="handleFormSubmit(event)">
                    <div class="form-group">
                        <label>Name</label>
                        <input type="text" class="form-control" required placeholder="Your Name">
                    </div>
                    <div class="form-group">
                        <label>Email</label>
                        <input type="email" class="form-control" required placeholder="Your Email">
                    </div>
                    <div class="form-group">
                        <label>Service Interest</label>
                        <select id="service-select" class="form-control">
                            <option value="General Inquiry">General Inquiry</option>
                            <!-- Options injected via JS -->
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Message</label>
                        <textarea class="form-control" rows="5" placeholder="How can we help?"></textarea>
                    </div>
                    <button type="submit" class="submit-btn">Send Message</button>
                </form>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer>
        <p>&copy; <span id="year"></span> <span id="footer-name"></span>. All Rights Reserved.</p>
    </footer>

    <!-- Service Detail Modal -->
    <div id="service-modal" class="modal">
        <div class="modal-content">
            <span class="close-modal" onclick="closeModal()">&times;</span>
            <h3 id="modal-title"></h3>
            <p id="modal-desc" style="margin: 20px 0;"></p>
            <div id="modal-experience"
                style="display:none; background:#f4f4f4; padding:15px; border-radius:4px; margin-bottom:20px;">
                <h4 style="color:#333">Past Experience</h4>
                <p id="modal-exp-text" style="color:#555; font-size:0.9rem;"></p>
            </div>
            <button class="btn" onclick="inquireFromModal()">Request Quote</button>
        </div>
    </div>

    <script>
        /* * ==========================================
         * JAVASCRIPT - CONFIG & LOGIC
         * ==========================================
         */

        /**
         * CONFIGURATION JSON
         * Edit this object to change content, colors, and structure.
         */
        const config = {
            "siteSettings": {
                "themeColor": "#0056b3",
                "accentColor": "#ff6b00",
                "darkModeEnabled": true,
                "showProjectsSection": true
            },
            "company": {
                "name": "Kugan Tech Works",
                "icon": "fas fa-cogs",
                "tagline": "Precision Engineering & Maintenance Solutions",
                "heroImage": "https://images.unsplash.com/photo-1581091226825-a6a2a5aee158?ixlib=rb-1.2.1&auto=format&fit=crop&w=1950&q=80",
                "heroTitle": "Industrial Reliability Guaranteed",
                "heroSub": "24/7 Mechanical support for factories, plants, and commercial facilities."
            },
            "about": {
                "description": "We are a dedicated team of mechanical engineers and technicians committed to keeping your operations running smoothly. With over 15 years of industry experience, we specialize in preventive maintenance, emergency repairs, and system installations.",
                "image": "https://images.unsplash.com/photo-1581093458791-9f3c3900df4b?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80",
                "showMission": true,
                "missionText": "To provide zero-downtime solutions through proactive maintenance and cutting-edge mechanical expertise."
            },
            "services": [
                {
                    "id": "hvac",
                    "title": "Industrial HVAC",
                    "shortDesc": "Installation and maintenance of large-scale heating and cooling systems.",
                    "fullDesc": "Our HVAC team specializes in chillers, boilers, and air handling units for industrial complexes. We ensure energy efficiency and regulatory compliance.",
                    "image": "https://images.unsplash.com/photo-1504328345606-18bbc8c9d7d1?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60",
                    "hasExperience": true,
                    "experienceText": "Managed cooling systems for the Metro City Data Center (2022)."
                },
                {
                    "id": "hydraulics",
                    "title": "Hydraulic Systems",
                    "shortDesc": "Repair and overhaul of hydraulic pumps, cylinders, and valves.",
                    "fullDesc": "Complete diagnostic and repair services for high-pressure hydraulic systems. We carry seals and parts for major manufacturers.",
                    "image": "https://images.unsplash.com/photo-1565609439600-4731c28c89b3?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60",
                    "hasExperience": false
                },
                {
                    "id": "fabrication",
                    "title": "Custom Fabrication",
                    "shortDesc": "On-site welding and metal fabrication for structural needs.",
                    "fullDesc": "Our mobile welding units can handle structural steel repairs, pipe welding, and custom bracket fabrication on your site.",
                    "image": "https://images.unsplash.com/photo-1504917595217-d4dc5ebe6122?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60",
                    "hasExperience": true,
                    "experienceText": "Structural reinforcement for the Eastern Bridge Project."
                },
                {
                    "id": "preventive",
                    "title": "Preventive Maintenance",
                    "shortDesc": "Scheduled inspections to prevent costly breakdowns.",
                    "fullDesc": "We create custom maintenance schedules (AMCs) tailored to your machinery to extend lifespan and reduce downtime.",
                    "image": "https://images.unsplash.com/photo-1531297461136-82lwDe40433?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60",
                    "hasExperience": false
                }
            ],
            "projects": [
                {
                    "title": "Auto Plant Overhaul",
                    "desc": "Complete conveyor belt replacement.",
                    "image": "https://images.unsplash.com/photo-1565043589221-1a6fd9ae45c7?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60"
                },
                {
                    "title": "Refinery Pipeline",
                    "desc": "High-pressure valve installation.",
                    "image": "https://images.unsplash.com/photo-1574689211272-bc14e289e223?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60"
                },
                {
                    "title": "Generator Setup",
                    "desc": "Backup power installation for hospital.",
                    "image": "https://images.unsplash.com/photo-1496247749665-49cf5b1022e9?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60"
                }
            ],
            "contact": {
                "phone": "+91 9790525321",
                "email": "Kugnatechworks@gmail.com",
                "address": "123 Industrial Ave, Tech District, NY 10001",
                "mapLink": "https://maps.google.com"
            }
        };

        // Initialize Function
        document.addEventListener('DOMContentLoaded', () => {
            initSite();
        });

        function initSite() {
            applyTheme();
            renderHeaderAndHero();
            renderAbout();
            renderServices();
            renderProjects();
            renderContact();
            document.getElementById('year').textContent = new Date().getFullYear();
        }

        // --- Theme Logic ---
        function applyTheme() {
            const r = document.querySelector(':root');
            r.style.setProperty('--primary-color', config.siteSettings.themeColor);
            r.style.setProperty('--secondary-color', config.siteSettings.accentColor);

            // Hide dark mode toggle if disabled in config
            if (!config.siteSettings.darkModeEnabled) {
                document.querySelector('.theme-toggle').style.display = 'none';
            }
        }

        function toggleTheme() {
            document.body.classList.toggle('dark-mode');
            const icon = document.querySelector('.theme-toggle');
            if (document.body.classList.contains('dark-mode')) {
                icon.classList.remove('fa-moon');
                icon.classList.add('fa-sun');
            } else {
                icon.classList.remove('fa-sun');
                icon.classList.add('fa-moon');
            }
        }

        // --- Render Functions ---
        function renderHeaderAndHero() {
            // Logo
            const logoContainer = document.getElementById('header-logo');
            logoContainer.innerHTML = `<i class="${config.company.icon}"></i> <span>${config.company.name}</span>`;

            // Footer Name
            document.getElementById('footer-name').textContent = config.company.name;

            // Hero
            const hero = document.getElementById('hero');
            hero.style.backgroundImage = `url('${config.company.heroImage}')`;
            document.getElementById('hero-title').textContent = config.company.heroTitle;
            document.getElementById('hero-tagline').textContent = config.company.heroSub;
        }

        function renderAbout() {
            document.getElementById('about-desc').textContent = config.about.description;
            document.getElementById('about-img').src = config.about.image;

            if (config.about.showMission) {
                const missionBox = document.getElementById('mission-vision');
                missionBox.style.display = 'block';
                document.getElementById('mission-text').textContent = config.about.missionText;
            }
        }

        function renderServices() {
            const container = document.getElementById('services-container');
            const select = document.getElementById('service-select');

            container.innerHTML = '';

            config.services.forEach(service => {
                // Add to Select Dropdown
                const option = document.createElement('option');
                option.value = service.title;
                option.textContent = service.title;
                select.appendChild(option);

                // Create Card
                const card = document.createElement('div');
                card.className = 'service-card';
                card.innerHTML = `
                    <div class="service-media">
                        <img src="${service.image}" alt="${service.title}">
                    </div>
                    <div class="service-content">
                        <h3>${service.title}</h3>
                        <p>${service.shortDesc}</p>
                        <div class="service-actions">
                            <span class="link-btn" onclick="openServiceModal('${service.id}')">Learn More</span>
                            <button class="btn" style="padding: 8px 15px; font-size: 0.8rem;" onclick="scrollToContact('${service.title}')">Inquire</button>
                        </div>
                    </div>
                `;
                container.appendChild(card);
            });
        }

        function renderProjects() {
            const section = document.getElementById('projects');
            const navLink = document.getElementById('nav-projects');

            if (!config.siteSettings.showProjectsSection) {
                section.style.display = 'none';
                navLink.style.display = 'none';
                return;
            }

            const container = document.getElementById('projects-container');
            container.innerHTML = '';

            config.projects.forEach(project => {
                const item = document.createElement('div');
                item.className = 'project-item';
                item.innerHTML = `
                    <img src="${project.image}" alt="${project.title}">
                    <div class="project-overlay">
                        <h4>${project.title}</h4>
                        <p>${project.desc}</p>
                    </div>
                `;
                container.appendChild(item);
            });
        }

        function renderContact() {
            const container = document.getElementById('contact-details');
            const c = config.contact;

            container.innerHTML = `
                <div class="contact-item">
                    <i class="fas fa-phone"></i>
                    <div>
                        <strong>Phone</strong><br>
                        <a href="tel:${c.phone}">${c.phone}</a>
                    </div>
                </div>
                <div class="contact-item">
                    <i class="fas fa-envelope"></i>
                    <div>
                        <strong>Email</strong><br>
                        <a href="mailto:${c.email}">${c.email}</a>
                    </div>
                </div>
                <div class="contact-item">
                    <i class="fas fa-map-marker-alt"></i>
                    <div>
                        <strong>Location</strong><br>
                        <a href="${c.mapLink}" target="_blank">${c.address}</a>
                    </div>
                </div>
            `;
        }

        // --- Interaction Logic ---

        function toggleMenu() {
            const nav = document.querySelector('nav ul');
            nav.classList.toggle('active');
        }

        let currentModalService = null;

        function openServiceModal(id) {
            const service = config.services.find(s => s.id === id);
            if (!service) return;

            currentModalService = service.title;
            document.getElementById('modal-title').textContent = service.title;
            document.getElementById('modal-desc').textContent = service.fullDesc;

            const expDiv = document.getElementById('modal-experience');
            if (service.hasExperience && config.siteSettings.showProjectsSection) { // Logic check
                expDiv.style.display = 'block';
                document.getElementById('modal-exp-text').textContent = service.experienceText || "Contact us for case studies.";
            } else {
                expDiv.style.display = 'none';
            }

            document.getElementById('service-modal').style.display = 'flex';
        }

        function closeModal() {
            document.getElementById('service-modal').style.display = 'none';
        }

        // Close modal if clicking outside content
        window.onclick = function (event) {
            const modal = document.getElementById('service-modal');
            if (event.target == modal) {
                closeModal();
            }
        }

        function scrollToContact(serviceName) {
            const select = document.getElementById('service-select');
            select.value = serviceName;
            document.getElementById('contact').scrollIntoView({ behavior: 'smooth' });
        }

        function inquireFromModal() {
            closeModal();
            scrollToContact(currentModalService);
        }

        function handleFormSubmit(e) {
            e.preventDefault();

            // 1. Get Elements
            const form = e.target;
            const btn = form.querySelector('button');
            const originalBtnText = btn.innerText;

            // 2. Prepare Data
            const formData = {
                name: form.querySelector('input[placeholder="Your Name"]').value,
                email: form.querySelector('input[placeholder="Your Email"]').value,
                service: document.getElementById('service-select').value,
                message: form.querySelector('textarea').value,
                date: new Date().toLocaleString()
            };

            // 3. Google Apps Script Web App URL
            // IMPORTANT: Follow the instructions in the "Google Apps Script Setup" file to get this URL.
            const SCRIPT_URL = "YOUR_GOOGLE_APPS_SCRIPT_WEB_APP_URL_HERE";

            // 4. UI Loading State
            btn.innerText = "Sending...";
            btn.disabled = true;

            // 5. Validation (Check if URL is set)
            if (SCRIPT_URL === "YOUR_GOOGLE_APPS_SCRIPT_WEB_APP_URL_HERE") {
                alert("Please configure the backend script URL in the code (line ~430).");
                btn.innerText = originalBtnText;
                btn.disabled = false;
                return;
            }

            // 6. Send Data (using text/plain to avoid CORS preflight issues with simple requests)
            fetch(SCRIPT_URL, {
                method: 'POST',
                body: JSON.stringify(formData),
                headers: {
                    "Content-Type": "text/plain;charset=utf-8",
                },
            })
                .then(response => {
                    if (response.ok) {
                        alert("Success! Your inquiry has been sent to our team.");
                        form.reset();
                    } else {
                        alert("Message sent, but the server response was unclear. We will contact you shortly.");
                    }
                })
                .catch(error => {
                    console.error("Error:", error);
                    alert("There was a technical error sending your message. Please try calling us directly.");
                })
                .finally(() => {
                    btn.innerText = originalBtnText;
                    btn.disabled = false;
                });
        }

    </script>
</body>

</html>